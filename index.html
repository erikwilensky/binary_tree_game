<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Binary Tree Traversal Game</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Binary Tree Traversal Practice</h1>
            <p class="subtitle">Drag nodes into the correct traversal order</p>
        </header>

        <div class="app-menu">
            <div class="control-group">
                <label for="app-select">Practice Area:</label>
                <select id="app-select">
                    <option value="binary">Binary Tree Traversal</option>
                    <option value="python">Python Algorithm Tracing</option>
                    <option value="converter">Number Conversion</option>
                    <option value="complexity">Time Complexity Quiz</option>
                </select>
            </div>
        </div>

        <!-- Binary tree traversal app -->
        <div id="binary-tree-app" class="app-section">
            <div class="game-controls">
                <div class="control-group">
                    <label for="traversal-type">Traversal Type:</label>
                    <select id="traversal-type">
                        <option value="inorder">In-Order</option>
                        <option value="preorder">Pre-Order</option>
                        <option value="postorder">Post-Order</option>
                    </select>
                </div>

                <div class="control-group">
                    <label for="difficulty">Difficulty:</label>
                    <select id="difficulty">
                        <option value="easy">Easy (3-5 nodes, 60s)</option>
                        <option value="medium">Medium (6-9 nodes, 90s)</option>
                        <option value="hard">Hard (10-15 nodes, 120s)</option>
                        <option value="expert">Expert (15+ nodes, 150s)</option>
                    </select>
                </div>

                <button id="new-game-btn" class="btn btn-primary">New Game</button>
            </div>

            <div class="timer-container">
                <div id="timer" class="timer">--:--</div>
            </div>

            <div class="game-area">
                <div class="tree-container">
                    <h2>Binary Tree</h2>
                    <div id="tree-visualization" class="tree-visualization"></div>
                </div>

                <div class="answer-area">
                    <h2>Your Answer</h2>
                    <div id="answer-slots" class="answer-slots"></div>
                    <div class="answer-controls">
                        <button id="check-answer-btn" class="btn btn-success">Check Answer</button>
                        <button id="reset-answer-btn" class="btn btn-secondary">Reset</button>
                    </div>
                </div>

                <div class="node-pool">
                    <h2>Available Nodes</h2>
                    <div id="node-pool" class="node-pool-container"></div>
                </div>
            </div>

            <div id="feedback" class="feedback hidden"></div>

            <div class="score-container">
                <div class="score-item">
                    <span class="score-label">Correct:</span>
                    <span id="correct-count" class="score-value">0</span>
                </div>
                <div class="score-item">
                    <span class="score-label">Total:</span>
                    <span id="total-count" class="score-value">0</span>
                </div>
            </div>

            <div class="high-scores-section">
                <h2>High Scores</h2>
                <div id="high-scores-display" class="high-scores-display"></div>
            </div>
        </div>

        <!-- Number conversion app -->
        <div id="number-converter-app" class="app-section app-section-hidden">
            <h2>Number Conversion</h2>
            <p class="subtitle">Convert between binary, hexadecimal, and denary (decimal) number systems</p>
            
            <div class="converter-container">
                <div class="converter-input-section">
                    <div class="converter-input-group">
                        <label for="denary-input">Denary (Decimal):</label>
                        <input type="number" id="denary-input" placeholder="Enter denary number" min="0" step="1">
                        <div class="converter-result-label">Result:</div>
                        <div id="denary-result" class="converter-result">---</div>
                    </div>

                    <div class="converter-input-group">
                        <label for="binary-input">Binary:</label>
                        <input type="text" id="binary-input" placeholder="Enter binary number (0s and 1s)">
                        <div class="converter-result-label">Result:</div>
                        <div id="binary-result" class="converter-result">---</div>
                    </div>

                    <div class="converter-input-group">
                        <label for="hex-input">Hexadecimal:</label>
                        <input type="text" id="hex-input" placeholder="Enter hexadecimal number (0-9, A-F)">
                        <div class="converter-result-label">Result:</div>
                        <div id="hex-result" class="converter-result">---</div>
                    </div>
                </div>

                <div class="converter-controls">
                    <button id="converter-clear-btn" class="btn btn-secondary">Clear All</button>
                </div>

                <div id="converter-error" class="converter-error hidden"></div>
            </div>
        </div>

        <!-- Python algorithm tracing app -->
        <div id="python-tracing-app" class="app-section app-section-hidden">
            <h2>Python Algorithm Tracing Practice</h2>
            <div class="python-layout">
                <div class="python-left-panel">
                    <div class="python-control-bar">
                        <div class="control-group">
                            <label for="python-challenge-select">Choose challenge:</label>
                            <select id="python-challenge-select">
                                <!-- Populated by python-trace-ui.js -->
                            </select>
                        </div>
                    </div>

                    <div class="python-code-panel">
                        <div class="python-code-header">
                            <span class="python-code-title">Python code</span>
                            <span id="python-difficulty-tag" class="python-tag"></span>
                            <span id="python-topic-tag" class="python-tag secondary"></span>
                        </div>
                        <pre class="python-code-block"><code id="python-code-display"></code></pre>
                    </div>
                </div>

                <div class="python-right-panel">
                    <div class="python-meta-panel">
                        <h3 id="python-challenge-title"></h3>
                        <p id="python-challenge-description"></p>
                        <p id="python-challenge-inputs" class="python-inputs"></p>
                    </div>

                    <div class="python-trace-panel">
                        <div class="python-trace-header">
                            <h3>Trace table</h3>
                            <div class="python-trace-actions">
                                <button id="python-check-btn" class="btn btn-primary">Check Trace</button>
                                <button id="python-retry-btn" class="btn btn-secondary">Retry Wrong Cells</button>
                            </div>
                        </div>
                        <div class="python-trace-table-wrapper">
                            <table id="python-trace-table" class="python-trace-table">
                                <thead id="python-trace-head"></thead>
                                <tbody id="python-trace-body"></tbody>
                            </table>
                        </div>
                        <div id="python-trace-feedback" class="python-trace-feedback"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Time Complexity Quiz app -->
        <div id="time-complexity-app" class="app-section app-section-hidden">
            <h2>Time Complexity Quiz</h2>
            <p class="subtitle">Select the correct O(n) time complexity notation for each algorithm</p>
            
            <div class="complexity-quiz-container">
                <div class="complexity-quiz-header">
                    <div class="complexity-question-counter">
                        <span id="complexity-question-number">1</span> / <span id="complexity-total-questions">0</span>
                    </div>
                    <div class="complexity-quiz-controls">
                        <button id="complexity-shuffle-btn" class="btn btn-secondary">Shuffle Questions</button>
                    </div>
                </div>

                <div class="complexity-question-panel">
                    <div class="complexity-question-title">
                        <h3 id="complexity-algorithm-title"></h3>
                        <div class="complexity-tags">
                            <span id="complexity-difficulty-tag" class="complexity-tag"></span>
                            <span id="complexity-topic-tag" class="complexity-tag secondary"></span>
                        </div>
                    </div>

                    <div class="complexity-code-panel">
                        <div class="complexity-code-header">
                            <span class="complexity-code-title">Algorithm Code</span>
                        </div>
                        <pre class="complexity-code-block"><code id="complexity-code-display"></code></pre>
                    </div>

                    <div class="complexity-options-panel">
                        <h4>What is the time complexity of this algorithm?</h4>
                        <div id="complexity-options" class="complexity-options-list">
                            <!-- Options will be populated by JavaScript -->
                        </div>
                    </div>

                    <div id="complexity-feedback" class="complexity-feedback hidden"></div>
                </div>

                <div class="complexity-navigation">
                    <button id="complexity-prev-btn" class="btn btn-secondary">Previous</button>
                    <button id="complexity-next-btn" class="btn btn-primary">Next</button>
                </div>
            </div>
        </div>
    </div>

    <!-- High Score Modal -->
    <div id="high-score-modal" class="modal hidden">
        <div class="modal-content">
            <h2>New High Score!</h2>
            <p>Enter your initials:</p>
            <input type="text" id="initials-input" maxlength="2" placeholder="AA" autofocus>
            <div class="modal-buttons">
                <button id="submit-initials-btn" class="btn btn-primary">Submit</button>
            </div>
        </div>
    </div>

    <!-- Optional: Add token here for local testing (remove before committing!) -->
    <!-- <script data-github-token="YOUR_TOKEN_HERE"></script> -->
    
    <!-- Load config.js if it exists (gitignored, won't be in repo) -->
    <script src="config.js" onerror="console.log('config.js not found - using localStorage for token')"></script>
    
    <script src="game.js"></script>
    <script src="ui.js"></script>
    <script src="python-trace-ui.js"></script>
    <script src="number-converter.js"></script>
    <script src="number-converter-ui.js"></script>
    <script src="time-complexity-ui.js"></script>
</body>
</html>

