<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Binary Tree Traversal Game</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Binary Tree Traversal Practice</h1>
            <p class="subtitle">Drag nodes into the correct traversal order</p>
        </header>

        <div class="app-menu">
            <div class="control-group">
                <label for="app-select">Practice Area:</label>
                <select id="app-select">
                    <option value="binary">Binary Tree Traversal</option>
                    <option value="python">Python Algorithm Tracing</option>
                    <option value="converter">Number Conversion</option>
                    <option value="complexity">Time Complexity Quiz</option>
                    <option value="sql">SQL Practice</option>
                    <option value="quiz">In-Class Quiz</option>
                </select>
            </div>
        </div>

        <!-- Binary tree traversal app -->
        <div id="binary-tree-app" class="app-section">
            <div class="game-controls">
                <div class="control-group">
                    <label for="traversal-type">Traversal Type:</label>
                    <select id="traversal-type">
                        <option value="inorder">In-Order</option>
                        <option value="preorder">Pre-Order</option>
                        <option value="postorder">Post-Order</option>
                    </select>
                </div>

                <div class="control-group">
                    <label for="difficulty">Difficulty:</label>
                    <select id="difficulty">
                        <option value="easy">Easy (3-5 nodes, 60s)</option>
                        <option value="medium">Medium (6-9 nodes, 90s)</option>
                        <option value="hard">Hard (10-15 nodes, 120s)</option>
                        <option value="expert">Expert (15+ nodes, 150s)</option>
                    </select>
                </div>

                <button id="new-game-btn" class="btn btn-primary">New Game</button>
            </div>

            <div class="timer-container">
                <div id="timer" class="timer">--:--</div>
            </div>

            <div class="game-area">
                <div class="tree-container">
                    <h2>Binary Tree</h2>
                    <div id="tree-visualization" class="tree-visualization"></div>
                </div>

                <div class="answer-area">
                    <h2>Your Answer</h2>
                    <div id="answer-slots" class="answer-slots"></div>
                    <div class="answer-controls">
                        <button id="check-answer-btn" class="btn btn-success">Check Answer</button>
                        <button id="reset-answer-btn" class="btn btn-secondary">Reset</button>
                    </div>
                </div>

                <div class="node-pool">
                    <h2>Available Nodes</h2>
                    <div id="node-pool" class="node-pool-container"></div>
                </div>
            </div>

            <div id="feedback" class="feedback hidden"></div>

            <div class="score-container">
                <div class="score-item">
                    <span class="score-label">Correct:</span>
                    <span id="correct-count" class="score-value">0</span>
                </div>
                <div class="score-item">
                    <span class="score-label">Total:</span>
                    <span id="total-count" class="score-value">0</span>
                </div>
            </div>

            <div class="high-scores-section">
                <h2>High Scores</h2>
                <div id="high-scores-display" class="high-scores-display"></div>
            </div>
        </div>

        <!-- Number conversion app -->
        <div id="number-converter-app" class="app-section app-section-hidden">
            <h2>Number Conversion Practice</h2>
            <p class="subtitle">Convert between binary, hexadecimal, and denary (decimal) number systems</p>
            
            <div class="converter-quiz-container">
                <div class="quiz-header">
                    <div class="quiz-progress">
                        <span>Question <span id="current-question">1</span> of 10</span>
                        <span>Score: <span id="quiz-score">0</span>/<span id="quiz-total">0</span></span>
                    </div>
                </div>

                <div class="quiz-question-area">
                    <div class="quiz-question">
                        <p class="question-text">Convert the following number:</p>
                        <div class="question-display">
                            <span id="question-value" class="question-value"></span>
                            <span class="question-format" id="question-format"></span>
                        </div>
                        <p class="question-prompt">to <span id="answer-format"></span>:</p>
                    </div>

                    <div class="quiz-answer-area">
                        <input type="text" id="quiz-answer-input" placeholder="Enter your answer" autocomplete="off">
                        <button id="quiz-submit-btn" class="btn btn-primary">Submit Answer</button>
                    </div>

                    <div id="quiz-feedback" class="quiz-feedback hidden"></div>
                </div>

                <div class="quiz-controls">
                    <button id="quiz-new-btn" class="btn btn-primary">New Quiz</button>
                    <button id="quiz-next-btn" class="btn btn-secondary hidden">Next Question</button>
                </div>

                <div id="quiz-results" class="quiz-results hidden">
                    <h3>Quiz Complete!</h3>
                    <p>Your score: <span id="final-score">0</span>/10</p>
                    <button id="quiz-restart-btn" class="btn btn-primary">Start New Quiz</button>
                </div>
            </div>
        </div>

        <!-- Python algorithm tracing app -->
        <div id="python-tracing-app" class="app-section app-section-hidden">
            <h2>Python Algorithm Tracing Practice</h2>
            <div class="python-layout">
                <div class="python-left-panel">
                    <div class="python-control-bar">
                        <div class="control-group">
                            <label for="python-challenge-select">Choose challenge:</label>
                            <select id="python-challenge-select">
                                <!-- Populated by python-trace-ui.js -->
                            </select>
                        </div>
                    </div>

                    <div class="python-code-panel">
                        <div class="python-code-header">
                            <span class="python-code-title">Python code</span>
                            <span id="python-difficulty-tag" class="python-tag"></span>
                            <span id="python-topic-tag" class="python-tag secondary"></span>
                        </div>
                        <pre class="python-code-block"><code id="python-code-display"></code></pre>
                    </div>
                </div>

                <div class="python-right-panel">
                    <div class="python-meta-panel">
                        <h3 id="python-challenge-title"></h3>
                        <p id="python-challenge-description"></p>
                        <p id="python-challenge-inputs" class="python-inputs"></p>
                    </div>

                    <div class="python-trace-panel">
                        <div class="python-trace-header">
                            <h3>Trace table</h3>
                            <div class="python-trace-actions">
                                <button id="python-check-btn" class="btn btn-primary">Check Trace</button>
                                <button id="python-retry-btn" class="btn btn-secondary">Retry Wrong Cells</button>
                            </div>
                        </div>
                        <div class="python-trace-table-wrapper">
                            <table id="python-trace-table" class="python-trace-table">
                                <thead id="python-trace-head"></thead>
                                <tbody id="python-trace-body"></tbody>
                            </table>
                        </div>
                        <div id="python-trace-feedback" class="python-trace-feedback"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Time Complexity Quiz app -->
        <div id="time-complexity-app" class="app-section app-section-hidden">
            <h2>Time Complexity Quiz</h2>
            <p class="subtitle">Select the correct O(n) time complexity notation for each algorithm</p>
            
            <div class="complexity-quiz-container">
                <div class="complexity-quiz-header">
                    <div class="complexity-question-counter">
                        <span id="complexity-question-number">1</span> / <span id="complexity-total-questions">0</span>
                    </div>
                    <div class="complexity-quiz-controls">
                        <button id="complexity-shuffle-btn" class="btn btn-secondary">Shuffle Questions</button>
                    </div>
                </div>

                <div class="complexity-question-panel">
                    <div class="complexity-question-title">
                        <h3 id="complexity-algorithm-title"></h3>
                        <div class="complexity-tags">
                            <span id="complexity-difficulty-tag" class="complexity-tag"></span>
                            <span id="complexity-topic-tag" class="complexity-tag secondary"></span>
                        </div>
                    </div>

                    <div class="complexity-code-panel">
                        <div class="complexity-code-header">
                            <span class="complexity-code-title">Algorithm Code</span>
                        </div>
                        <pre class="complexity-code-block"><code id="complexity-code-display"></code></pre>
                    </div>

                    <div class="complexity-options-panel">
                        <h4>What is the time complexity of this algorithm?</h4>
                        <div id="complexity-options" class="complexity-options-list">
                            <!-- Options will be populated by JavaScript -->
                        </div>
                    </div>

                    <div id="complexity-feedback" class="complexity-feedback hidden"></div>
                </div>

                <div class="complexity-navigation">
                    <button id="complexity-prev-btn" class="btn btn-secondary">Previous</button>
                    <button id="complexity-next-btn" class="btn btn-primary">Next</button>
                </div>
            </div>
        </div>

        <!-- SQL Practice app -->
        <div id="sql-practice-app" class="app-section app-section-hidden">
            <h2>SQL Practice</h2>
            <p class="subtitle">Write SQL queries to retrieve data from the database schema</p>
            
            <div class="sql-practice-container">
                <div class="sql-control-bar">
                    <div class="control-group">
                        <label for="sql-challenge-select">Choose challenge:</label>
                        <select id="sql-challenge-select">
                            <!-- Populated by sql-practice-ui.js -->
                        </select>
                    </div>
                </div>

                <div class="sql-layout">
                    <div class="sql-left-panel">
                        <div class="sql-challenge-panel">
                            <div class="sql-challenge-header">
                                <h3 id="sql-challenge-title">Challenge</h3>
                                <div class="sql-tags">
                                    <span id="sql-difficulty-tag" class="sql-tag"></span>
                                    <span id="sql-topic-tag" class="sql-tag secondary"></span>
                                </div>
                            </div>
                            <p id="sql-description" class="sql-description"></p>
                        </div>

                        <div class="sql-schema-panel">
                            <div class="sql-schema-header">
                                <h3>Database Schema</h3>
                            </div>
                            <div id="sql-schema-display" class="sql-schema-display">
                                <!-- Schema will be populated by JavaScript -->
                            </div>
                        </div>
                    </div>

                    <div class="sql-right-panel">
                        <div class="sql-editor-panel">
                            <div class="sql-editor-header">
                                <h3>Write Your SQL Query</h3>
                            </div>
                            <div class="sql-editor-wrapper">
                                <textarea id="sql-editor" class="sql-editor" placeholder="SELECT * FROM employees;"></textarea>
                                <div id="sql-autocomplete-list" class="sql-autocomplete-list"></div>
                            </div>
                            <div id="sql-syntax-alerts" class="sql-syntax-alerts"></div>
                            <div class="sql-editor-controls">
                                <button id="sql-check-btn" class="btn btn-primary">Check Query</button>
                                <button id="sql-clear-btn" class="btn btn-secondary">Clear</button>
                            </div>
                            <div id="sql-feedback" class="sql-feedback"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- In-Class Quiz app -->
        <div id="in-class-quiz-app" class="app-section app-section-hidden">
            <h2>In-Class Quiz</h2>
            <p class="subtitle">Enter your team name and answer, then lock your submission</p>
            
            <div class="quiz-container">
                <div class="quiz-input-section">
                    <div class="control-group">
                        <label for="quiz-team-name">Team Name:</label>
                        <input type="text" id="quiz-team-name" placeholder="Enter your team name" maxlength="50">
                    </div>
                    
                    <div class="control-group">
                        <label for="quiz-answer">Your Answer:</label>
                        <textarea id="quiz-answer" rows="10" placeholder="Type your answer here..." maxlength="2000"></textarea>
                    </div>
                    
                    <div class="quiz-controls">
                        <button id="quiz-lock-btn" class="btn btn-primary">Lock Answer</button>
                        <button id="quiz-reset-btn" class="btn btn-secondary">Clear Answer</button>
                        <button id="quiz-admin-btn" class="btn btn-secondary">View All Answers (Admin)</button>
                    </div>
                    
                    <div id="quiz-status" class="quiz-status"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- High Score Modal -->
    <div id="high-score-modal" class="modal hidden">
        <div class="modal-content">
            <h2>New High Score!</h2>
            <p>Enter your initials:</p>
            <input type="text" id="initials-input" maxlength="2" placeholder="AA" autofocus>
            <div class="modal-buttons">
                <button id="submit-initials-btn" class="btn btn-primary">Submit</button>
            </div>
        </div>
    </div>

    <!-- Admin View Modal -->
    <div id="quiz-admin-modal" class="modal hidden">
        <div class="modal-content modal-large">
            <h2>All Team Answers</h2>
            <div id="quiz-admin-password-section">
                <p>Enter admin password:</p>
                <input type="password" id="quiz-admin-password" placeholder="Password" autofocus>
                <div class="modal-buttons">
                    <button id="quiz-admin-submit-btn" class="btn btn-primary">Submit</button>
                    <button id="quiz-admin-cancel-btn" class="btn btn-secondary">Cancel</button>
                </div>
            </div>
            <div id="quiz-admin-results" class="hidden">
                <div class="modal-buttons" style="margin-bottom: 15px;">
                    <button id="quiz-admin-refresh-btn" class="btn btn-secondary">Refresh</button>
                </div>
                <div id="quiz-admin-table-container"></div>
                <div class="modal-buttons">
                    <button id="quiz-admin-close-btn" class="btn btn-primary">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Optional: Add token here for local testing (remove before committing!) -->
    <!-- <script data-github-token="YOUR_TOKEN_HERE"></script> -->
    
    <!-- Load config.js if it exists (gitignored, won't be in repo) -->
    <script src="config.js" onerror="console.log('config.js not found - using localStorage for token')"></script>
    
    <script src="game.js"></script>
    <script src="ui.js"></script>
    <script src="python-trace-ui.js"></script>
    <script src="number-converter.js"></script>
    <script src="number-converter-quiz.js"></script>
    <script src="number-converter-quiz-ui.js"></script>
    <script src="time-complexity-ui.js"></script>
    <script src="sql-practice-ui.js"></script>
    <script src="in-class-quiz-ui.js"></script>
</body>
</html>

